window.onerror=function(oriFunc){return function(){try{if(oriFunc)oriFunc.apply(window,arguments);var params=arguments;if(Object.prototype.toString.call(params)!='[object Arguments]')return;var argCount=params.length;if(argCount==0)return;var fetchValue=function(idx){return argCount>idx?params[idx]:'no this params at index: '+idx};var firstParma=fetchValue(0);var isError=Object.prototype.toString.call(firstParma)=='[object Error]';var fetchErrorValue=function(params,key){return params.hasOwnProperty(key)?params[key]:'no this key: '+key};var resErr=JSON.parse(JSON.stringify({message:isError?fetchErrorValue(firstParma,'message'):fetchValue(0),sourceURL:isError?fetchErrorValue(firstParma,'sourceURL'):fetchValue(1),line:isError?fetchErrorValue(firstParma,'line'):fetchValue(2),column:isError?fetchErrorValue(firstParma,'column'):fetchValue(3),stack:isError?fetchErrorValue(firstParma,'stack').toString():fetchValue(4)}));%@.sendNative(resErr)}catch(error){}}}(window.onerror);